jenkins:
  systemMessage: "Jenkins Managed via Helm + JCasC GitOps"

  clouds:
    - kubernetes:
        name: "kubernetes"
        serverUrl: "https://kubernetes.default.svc"
        skipTlsVerify: true
        namespace: "jenkins"
        jenkinsUrl: "http://jenkins.jenkins.svc.cluster.local:8080"
        containerCapStr: "10"

        templates:
          - name: "jenkins-aks"
            label: "jenkins-aks"
            namespace: "jenkins"
            nodeUsageMode: NORMAL
            idleMinutes: 5

            # ðŸ‘‡ Required for Inbound Agent (your custom image)
            podRetention: "never"

            containers:
              - name: "jnlp"
                image: "jenkinsacr1234.azurecr.io/jenkins-agent:latest"
                alwaysPullImage: true
                workingDir: "/home/jenkins/agent"
                command: ""    # MUST BE EMPTY
                args: ""       # MUST BE EMPTY
                ttyEnabled: true
                privileged: false

            volumes:
              - emptyDirVolume:
                  mountPath: "/home/jenkins/agent"

            nodeSelector:
              kubernetes.io/os: linux
